@{
    ViewData["Title"] = "Perfil";
}

<div class = "perfil-content">
  <img src="@ViewBag.foto" alt="FotoUser" class = "img-perfil">

<div class = "perfil-css">

    <div class = "username-box">
        <h3>@ViewBag.Username</h3>

        <div class = "content-perfilText">
          <button type="button" class="settings" data-bs-toggle="modal" data-bs-target="#editProfileModal">
            <svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M12 20h9"/>
            <path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"/>
            </svg>
          </button> 
        </div>
        
    </div>
    
    <h5>@ViewBag.Email</h5>
    <h5>@ViewBag.Telefono</h5>

    <!-- hacer un if para que cuando no tenga ni ubi ni bio, que no aparezca vacio -->
    @if(ViewBag.Biografia != ""){
      <h5>@ViewBag.Biografia</h5>
    }

    @if(ViewBag.Ubicacion != null){
      <h5>@ViewBag.Ubicacion</h5>
    }

    <h2>Ajustes</h2>
    
    <div class = "ajustes-1">
      <button class="ajustes">
          <a href='@Url.Action("Permisos", "Account")'>Permisos</a>
      </button>
      <button class="ajustes">
          <a href='@Url.Action("MenuOrbit", "Orbit")'>Orbits</a>
      </button>
      <button type="button" class="ajustes"> 
          <a href='@Url.Action("Ayuda", "Account")'>Ayuda</a>
      </button> 
       <button type="button" class="ajustes-cerrar"> 
          <a href='@Url.Action("LogOut", "Account")'>Cerrar Sesión</a>
      </button> 
    </div>
    

    <div class="modal fade" id="editProfileModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">

            <div class="modal-header">
                <h5 class="modal-title">Editar Perfil</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>

            <form method="post" enctype="multipart/form-data" action="@Url.Action("EditarPerfil","Account")">
                <div class="modal-body">

                    <!-- FOTO -->
                    <div class="mb-3 text-center">
                        <img src="@ViewBag.foto" class="rounded-circle mb-2" width="90" height="90" style="object-fit: cover;">
                        <input type="file" class="form-control" name="FotoPerfil">
                    </div>

                    <!-- USERNAME -->
                    <div class="mb-3">
                        <label class="form-label">Usuario</label>
                        <input type="text" class="form-control" name="Username" value="@ViewBag.Username">
                    </div>

                    <!-- EMAIL -->
                    <div class="mb-3">
                        <label class="form-label">Email</label>
                        <input type="email" class="form-control" name="Email" value="@ViewBag.Email">
                    </div>

                    <!-- TELÉFONO -->
                    <div class="mb-3">
                        <label class="form-label">Teléfono</label>
                        <input type="text" class="form-control" name="Telefono" value="@ViewBag.Telefono">
                    </div>

                    <!-- BIOGRAFÍA -->
                    <div class="mb-3">
                        <label class="form-label">Biografía</label>
                        <textarea class="form-control" name="Biografia" rows="3">@ViewBag.Biografia</textarea>
                    </div>

                    <!-- CONTACTO DE EMERGENCIA -->
                    <div class="mb-3">
                        <label class="form-label">Contacto de Emergencia</label>
                        <input type="text" class="form-control" name="ContactoEmergencia" value="@ViewBag.ContactoEmergencia">
                    </div>

                </div>


        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
          <button type="submit" class="btn btn-primary">Guardar Cambios</button>
        </div>
      </form>

    </div>
  </div>
</div>
      <div class="modal-dialog">
        <div class="modal-content">

          <div class="modal-header">
            <h5 class="modal-title">Editar Perfil</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
          </div>

        </div>
      </div>
    </div>



    @* HACER QUE CON EL LAPIZ SE PUEDA EDITARRRRR 20/11/15:57 *@